# RAG

This repo is a simple chatbot with RAG (Retrieval Augmented Generation).
It can answer questions based on information in txt and pdf files as well as weather information from [Open-Meteo](https://open-meteo.com/).

## What is RAG
// TODO

## How it works
The content of the files and the keyword "weather" get added to a vector database with their vector generated by a AI model from Google (embedding-001).
When the user asks something the vector for the prompt is also generated. Then the 3 most relevant documents and keywords get queried by comparing the vectors of the prompt and the documents / keyword. If the keyword "weather" the required data is fetched from the weather api by letting Gemini generate a request URL for the API (to easily translate what the user wants to an api request). The relevant documents and if necessary API response is than injected in the meta prompt and given to Gemini. Geminis answer is then given to the user.
## How to get started
### 1. Install dependencies
With pip:
```bash
pip install .
```
or with poetry:
```bash
poetry install
```
To install torch follow [this](https://pytorch.org/get-started/locally/). This is necessary because torch can't be easily installed with poetry. 

### 2. Create .env
Create a new file with the name `.env` and write
```.env
GEMINI_API_KEY=<your-api-key>
```
in it.

### 3. Setup the vector database
Just run
```bash
docker compose up
```
in the project root.

### 4. Add files
Add files with information the AI should have in the `files` directory in the project root.

### 5. Run the rag.py file
```bash
python rag.py
```
When running it for the first time the information has to be but in the vector db so answer `y` when asked if the information should be indexed.

## Example prompts


> What is the company Satellytes?
> 
> Answer: Satellytes is a technology company that is always looking for passionate developers. 

> What options for a carer does Satellyets provide?
> 
> Answer: Satellyets is looking for passionate developers who want to take on new challenges and continually develop themselves. 

> What is the secret number?
> 
> Answer: The secret number is 54321. 

> How is the weather in Munich?
> 
> Answer: I can tell you that the weather in Munich is currently 12.7°C with a relative humidity of 83%. 
> 
> And tomorrow?
> 
> Answer: The weather in Munich tomorrow will be 12.0°C with a relative humidity of 95%.
> 
> Will it rain tomorrow?
> 
> Answer: Yes, it will rain tomorrow in Munich. 

> What is Satellyets?
> 
> Answer: Satellytes is a technology company that focuses on creating high-quality software solutions.

## Development process
// TODO

## Possible improvements

- Use mean pooling on prompts that require the weather api to generate the embedding instead of using a embedded keyword
- Better LLM / SLM model
- Improve meta prompts